import { NextResponse } from 'next/server';

export async function POST(req: Request) {
  const { message } = await req.json();

  const db = `
  
1. 방석 호환 가능한가요? 
답변 : 방석 상품의 경우, 범용으로 준비되어 차종별로 나뉘는게 아닌 사이즈를 참고하시어 주문 권장드립니다
시트와 등판 사이에 손을 넣어 보셨을 때 방석을 고정할 수 있는 H고리를 장착할 공간이 있으면 제품 이용이 가능합니다.
제품 사이즈 안내해드릴테니 고객님 차량의 시트 실측해보신 후 구매하시는 것을 권장해드립니다.
*프리시트 2세대 : 가로 50CM X 세로 53CM X 높이 7CM (쿠션 두께 2.5CM-마름모 센터기준)
* 슬림방석 : 가로 54CM X 세로 52CM X 높이 1.2CM(쿠션 두께)

2. 제 차에 아임반 콘솔쿠션 X패턴 호환 가능한가요? 
답변 : [콘솔쿠션 X패턴] 상품의 경우,  범용 상품 특성상 순정 콘솔박스와 사이즈가 완벽하게 일치하지 않을 수 있으며 순정 콘솔박스 여닫이가 양문형 / 슬라이드형을 제외한 오픈형 콘솔에 장착 가능합니다.
저희 제품 사이즈 안내해드리도록 하겠습니다. 
* 공용 콘솔쿠션(X패턴) 가로 33 x 세로 23(cm)

3. GV80, G70, GV70, G80, 싼타페 MX5, GN7, 소나타 디엣지, K8, 벤츠, G90, GV80, 팰리세이드, KA4, X5,X6,X7, EV6, 5시리즈, 6GT 차량에 공용 콘솔쿠션 3세대 이용 불가합니다. 

4. 헤드레스트, SP누빔 헤드레스트, L6누빔헤드레스트, 아임반 에디션 헤드레스트 호환 불가한 차종입니다. 
1시리즈 / 118D
3시리즈 / 320D / 5세대
3시리즈 / 320D / 6세대
3시리즈 / 3GT / 그란투리스모
5시리즈 
X5~7 시리즈
다마스
베리타스
EV9
K9
뉴프라이드(올뉴)
니로 플러스
로체 / MG
리오 / BC
리오 / JB
리오 / UB/LB
리오 / YB/SC/FB
모닝 / 올뉴 / TA(2세대) / SA(1세대)
봉고 마스터 / BA2
봉고1 / BA2
봉고2 / SR
봉고3 / W3
봉고3 / PU / 4세대
오피러스
옵티마
스펙트라
포르테 TD / 쿠페 XK
쎄라토
쎄라토
뉴쎄라토
스포티지 / NB-7 / 2세대 (JE/KM)
쏘렌토 / BL
쏘울
그랜드카니발
카니발R
마츠이
맥시마
리프
마치 / 닛스모
무라노
쥬크
세레나
캐시카이
큐브3세대
라세티
보그
CT200H
ES350
EX
GS200T
IS
IS250
LS400
NX / AZ10
RX450H / AL10
디스커버리 / 스포트
레인지로버 / 이보크 / 벨라 / 스포트
디펜더
프리랜더
SM5
SM5
클리오
MKS
E클래스
GLA 200d
M클래스
볼트 / 1세대
볼트 / 2세대
트랙스 크로스오버
토스카
젠트라
캡티바
말리부 / 올뉴
임팔라
아웃백
그랜드 C4 피카소
체어맨 / 뉴 / H / 1세대
체어맨  / 뉴 / W / 카이저 
뉴 렉스턴 /Y220~Y230
렉스턴 Ⅱ / Y250 / Y280
슈퍼 렉스턴 / Y285~Y289
무쏘
A3
A4
A4
A5
A7
Q3
Q5
Q7
G시리즈
FX
g37s
M37
M시리즈 
Q50
Q70
QX60
EQ900 
G90
쿠페
랭글러
랭글러 / 4도어
레니게이드
사하라
체로키
200c
300c
XT4
XT5
XT6
에스컬레이드
코롤라
프리우스C / 아쿠아
프리우스V / 알파 / 플러스
머스탱
온데오
익스플로러
쿠가
토러스
CC
골프
아테온
페이톤
807
2008
3008
508sw
윈스톰
윈스톰맥스
i30 / GD
i40 / VF
갤로퍼
뉴 스타렉스 / 2세대 / A1 / PE
그랜저 XG/TG
뉴 엑센트
베르나 / LC
베르나 / MC
벨로스터 / 1세대 / FS
싼타페
싼타페CM / 더스타일
쏘나타 EF / NF / 트랜스폼
아반떼HD 
아반떼XD 
아반떼MD 
에쿠스 / VI
에쿠스 / LZ / YJ
테라칸
투스카니
투싼 / JM
트라제
포터2
레전드
어코드
오딧세이
크로스오버
파일럿
폴스타2

5. 헤드레스트, SP누빔 헤드레스트, L6누빔헤드레스트, 아임반 에디션 헤드레스트 호환 가능한 차종입니다. 다만 차종간 호환 가능한 문의에 대한 답변은 내부 규정상 안내가 어려운점 양해부탁드립니다.

(위 답변 시 아래 차종 확인해서 안내 필요)
K3 / 더 뉴
K3 / 올 뉴 
K5 / 더 뉴 / 1.5세대/TF / TFPE
K5 / 올 뉴 / 2세대 / JF
K5 / 더 뉴 /JF
K5 / 올 뉴 / 인터랙티브 / DL3 / 1.6터보 / 3세대 / 
K5 DL3 PE
K7 / 더 뉴 / 프레스티지(VG,VGPE)
K7 / 올 뉴(YG)
K7 프리미어(YG)
K8
EV6
뉴오피러스
뉴오피러스프리미엄
뉴카렌스 / 올뉴
니로
더뉴니로
디올뉴니로/SG2 
레이 차종
모닝 / JA (3세대)
모닝 / 어반
모하비
모하비 / 더뉴
모하비 / 더 마스터
셀토스 / SP2
더뉴 셀토스 / SP2 PE
스토닉 / YB CUV
스팅어 / CK
스포티지 / R / SL /3세대
스포티지 / QL / 올뉴 / KX5 / 볼드/ 4세대
스포티지 / NQ5
쏘렌토R / XM
쏘렌토 / 올 뉴 / UM
쏘렌토 / 더 뉴 / 더 마스터 / 페이스리프트 / UM
쏘렌토 / MQ4 / 4세대
쏘렌토 페이스리프트 / MQ4PE
쏘울 / 올뉴
쏘울(부스터)
"카니발 / 올뉴 / 더뉴
9,11 인승 (4열은 호환불가)"
"카니발 / 올뉴 / 더뉴
7 인승 (3열 불가)"
"카니발 /KA4/4세대
9,11 인승 / 페이스리프트/하이리무진"
"카니발 /KA4/4세대
7 인승 / 페이스리프트/하이리무진"
알티마
엑스트레일
패스파인더
패스파인더
굴삭기
ES300H
NX350h
NX450h+
QM3
QM5
QM6
SM3
SM5 / EX1 / DF
SM6
SM7
XM3
클리오
캡처
MKZ
라세티프리미어
스파크 / M300/M350 / 1세대
스파크 / M400/M450 / 2세대
트래버스 / 2세대
아베오
올란도
크루즈
트레일블레이져 / 9BYC
트랙스
마티즈 크리에이티브
콜로라도 / 2세대
토레스
렉스턴 W / Y290~Y295
G4 렉스턴 / Y400
렉스턴 스포츠  / 칸 / Y400
올뉴 렉스턴 / Y450
렉스턴 스포츠 쿨멘 / Q261
로디우스
액티언/스포츠
카이런
코란도C
코란도 스포츠
코란도 투리스모
코란도 / 뷰티풀
티볼리 / 아머
티볼리 / 베리뉴
티볼리 / 에어 
A6  / C7 / 7세대
A6 / C8 / 8세대
QX60
XF시리즈 
G80 / BH
G80 / DH / G330
G80 / 3세대 / RG3
G80 PE
G70
GV70 / 더뉴  / JK1
GV80
GV60
200c
라브4
라브4 
슈퍼그란디아
시에나
아발론
캠리
캠리
프리우스
마칸
시로코
CC
더비틀
제타
제타
투아렉
티구안
파사트
알페온
i30 / PD
그랜드 스타렉스 / 3세대 / TQ
그랜저 HG
그랜저 IG
그랜저 IG (더 뉴) + 택시
그랜저 GN7(디올뉴그랜저) + 택시
넥쏘
맥스크루즈 / NC
베뉴 / QX1
베라크루즈 / EN
벨로스터 / 2세대 / JS
싼타페DM /더프라임
싼타페 원밀리엄
싼타페TM
싼타페 / 더뉴
싼타페/MX5/디올뉴

쏘나타 / YF 
쏘나타 / LF / 뉴라이즈
쏘나타 / 올뉴 / DN8 / 샌슈어스
쏘나타 디엣지
아반떼MD / 더뉴 
아반떼AD / 스포츠
아반떼 / 올뉴 / CN7
아반떼 / 더뉴 / CN7 (페리)
아슬란 / AG
아이오닉 / AE
아이오닉5
아이오닉6
코나 / OS
디올뉴코나(SX2)
팰리세이드
스타리아
투싼 / IX / LM
투싼 / 올뉴 / TL
투싼 / N / NX4
캐스퍼
모델3
모델Y

6. 질문1. OO 차량과 OO 차량의 헤드레스트 호환이 가능한가요?
질문 2. 원래 타던 차량이 아반떼 CN7 인데 이번에 차를 GV80 차량으로 변경하게 되었습니다. 기존에 아임반 헤드레스트 목쿠션을 구매하여 사용하고 있는데 새로 구매한 차량에 호환이 가능할까요?
답변 : 헤드레스트 차량 간 호환 문의 시 헤드레스트의 경우 초기 주문시 해당 차량에 맞게 제작되어 발송됩니다. 내부 규정에 따라 특정 차량 간 호환성에 대한 정보를 제공할 수 없음을 알려드립니다

7. [SP 헤드레스트] 색상 
 모노블랙

8. [L6 누빔 헤드레스트] 	색상
모노블랙
네이비블루
보르도브라운
멜롯브라운
다크브라운
토프
토피브라운
인디고브라운
하바나브라운
NQ5브라운
어스브라운
새들브라운
듄베이지
피칸브라운
에크루카멜
카멜
올리브브라운
웜그레이
라이트그레이
글레시어화이트
바닐라베이지
라이트베이지
코튼베이지
카키
그린
마션브라운
레드
버건디
	
9. SP누빔 헤드레스트 색상
모노블랙
네이비블루
보르도브라운
멜롯브라운
다크브라운
토프
토피브라운
인디고브라운
하바나브라운
NQ5브라운
어스브라운
새들브라운
듄베이지
피칸브라운
에크루카멜
카멜
올리브브라운
웜그레이
라이트그레이
글레시어화이트
바닐라베이지
라이트베이지
코튼베이지
카키
그린
마션브라운
레드
버건디

10. 아임반 에디션 헤드레스트 색상
모노블랙
네이비블루
보르도브라운
멜롯브라운
다크브라운
토프
토피브라운
인디고브라운
하바나브라운
어스브라운
새들브라운
듄베이지
피칸브라운
에크루카멜
카멜
올리브브라운
웜그레이
라이트그레이
글레시어화이트
바닐라베이지
라이트베이지
코튼베이지
그린
레드

11. 아임반 H라인 목쿠션 색상
모노블랙
네이비블루
보르도브라운
멜롯브라운
다크브라운
커피
토프
토피브라운
인디고브라운
하바나브라운
타르투포
NQ5브라운
어스브라운
코냑
새들브라운
듄베이지
피칸브라운
카멜
올리브브라운
웜그레이
라이트그레이
GN7베이지
글레시어화이트
아이보리화이트
바닐라베이지
라이트베이지
코튼베이지
카키
그린
레드
버건디

7. 헤드레스트 제원이 어떻게 될까요? 답변 : SP, L6누빔, 아임반 에디션 헤드레스트 목쿠션의 경우 세로 24 x 가로 30 x 높이 20.5 (cm)
SP 헤드레스트 목쿠션의 경우 세로 24 x 가로 30 x 높이 20(cm) 
S 헤드레스트 목쿠션의 경우 세로 24 x 가로 30 x 높이 18.5(cm) 입니다. 

8. 제품별 헤드레스트 목쿠션 차이는 뭐가 있을까요? 
답변 : SP와 에디션 그리고 SP누빔, L6누빔은 목 닿는 부분의 소재 차이입니다. 

SP는 목 닿는 부분이 소가죽 면피로 되어있으며,
SP누빔, L6누빔은 목 닿는 부분에 퀼팅이 들어가 있어, 누브리노 인조가죽으로 되어있습니다.(디자인 차이) 
아임반 에디션은 목 닿는 부분의 경우 나파가죽과 타공 기법이 들어가 있어, 가장 부드러운 상품입니다. (자사몰 단독 판매) 

가격대를 생각하시면 SP, 디자인적인 외형이 중요하시면 SP누빔 또는 L6누빔 그리고 가죽의 질감을 중요하시다면 아임반 에디션으로 권장 드립니다.

9. 헤드레스트 1,2세대 차이점이 뭐가 있을까요? 
답변 : SP누빔 / L6누빔 헤드레스트 1세대, 2세대 차이점 안내드립니다. 
가장큰 차이점은 목닿는 부분의 디자인의 작업방식입니다! 
기존 1세대 상품은 퀼팅 누빔(실 퀼팅), 2세대 상품은 열 퀼팅을 적용하여 제작되었습니다. 
열 퀼팅의 상품이 잦은 마찰과 오랜 사용에도 퀼팅이 유지되며 
입체적이고 시각적인 볼륨감을 연출할 수 있게 개선되었으며 
1세대 보다 조금 더 슬림해진 쿠션감을 만나볼 수 있습니다 : ) 
(1세대 10mm > 2세대 5mm)

10. 아우디 A6(C8) 차량에 아임반 헤드레스트 목쿠션 호환 가능한가요? 
답변 : 해당 차종의 경우, 아임반 헤드레스트 장착 전 순정 헤드레스트 탈거가 다소 까다로운 부분으로 인하여 탈거 여부 확인 요청드립니다.
간혹 탈거의 어려움을 느끼는 고객분들이 있어, 주문 전 탈거를 확인 후 진행 권장드리고 있습니다.
** 관련 부분으로 인한 교환/반품의 경우 배송비가 부과돠는 점 이용에 참고 부탁드립니다.

11. 2열 목쿠션 1열에 장착 할 수 있을까요? 
답변 : 아임반 2열 목쿠션의 경우 
정상 장착이 될 수 있는 사이즈(둘레)는 53cm 미만의 헤드레스트로써 대다수의 1열 헤드레스트는 이를 초과합니다.
밴딩을 늘려서 장착 시에는 순정 헤드레스트의 가죽과 패드가 눌려 손상이 발생할 수 있어 장착을 권장하지 않습니다.

12. 2열 목쿠션 L라인과 H라인의 차이점은 뭔가요? 
답변 : 2열 목쿠션 L라인과 H라인 차이점 안내드리겠습니다. 
두 제품의 차이점은 
L라인은 쿠션이 C자 형태로 쿠션 두께는 4.5cm로 "메모리폼"으로 제작되었으며 
H라인은 평평한 형태로 쿠션 두께 1.5cm로 "우레탄 폼"으로 적용되어 제작되었습니다. 
 
두 제품 구매 시, 차종별 확인이 필요합니다 :D 
1) 등받이 조절이 가능한 SUV  > "L라인" 권장 
2) 등받이 조절이 불가능한 승용차 > "H라인" 권장 
 
*등받이 조절  : 1열 운전석/동승석과 같은 독립된 단독시트! (일체형 제외) 
*시트와 결합된 일체형 헤드레스트의 경우 장착 불가능
 
해당 구매 추천 모델의 경우, 차종 별 장착 시 차석감 및 돌출 형태에 따른 구매 권장 안내이며 
기호에 따라 원하시는 상품으로 선택 가능합니다 : D 
 
단, 관련 상품은 2열 전용 목쿠션으로 제작되어 ★1열(운전석/동승석) 사용은 권장드리지않습니다.!

13. 리본 허리쿠션의 경우 에어백에 간섭 있을까요? 
답변 : 리본 허리쿠션의 경우 에어백이 전개되는 전체 부분을 커버하지 않기에 사이드 에어백 전개에 영향을 주지 않습니다, 상품 상세페이지에 해당 영상 있으니 확인해보시면 좋을거 같습니다.

14. 리본 허리쿠션 사용시 통풍 잘 될까요? 
답변 : 허리쿠션 장착 시 등판 통풍에 간섭이 있을 수 있으나 일부분 통풍 간섭으로 사용하시면서 불편한 정도는 아닙니다, 다만 사용감은 개개인 편차가 발생 할 수 있으며 순정 대비 통풍이 다소 약할 수 있다 라는 내용은 구매 시 참고 부탁드립니다.

15. 허리쿠션 2,3세대 차이점은 뭐가 있을까요? 
답변 : 
1. 슬림해진 쿠션 : 2세대 대비 쿠션감을 줄이고 인체와 어울어지는 쿠션으로 재해석 하였습니다.
2. 슬림해진 버켓 : 2세대 대비 버켓 쿠션의 볼륨을 약 15mm 줄여 버켓쿠션의 곡률을 변경하여 과도한 눌림을 개선하였습니다.
3. 유여해진 라인 : 두께를 줄이고 상하좌우 사이즈를 확장하여 허리를 광범위하게 받혀줍니다.
4. 나아진 일체감 : 3세대 모델에는 사이드 덮개를 제작하여 측면에서 보이는 밴드 부분의 노출을 최소화하였습니다.
5. 세련된 퀼팅 : 시트와 잘 어울어질 수 있도록 라인 퀼팅을 적용하였습니다.
상세한 사항은 상품페이지 내에서 확인 부탁드립니다.

16. 사운드 픽셀 아임반 차량용 충전기 GV80 차량에 호환 가능할까요? 
답변 : (고객이 언급한 차량)은 서포트형으로 호환이 가능합니다.

17. 사운드 픽셀 아임반 차량용 충전기 GV70 차량에 호환 가능할까요? 
답변 : (고객이 언급한 차량)은 호환이 가능합니다. 제품 장착은 서포트 거치형+실리콘 홀더로 장착 가능합니다..

18. 차량용 충전기의 경우 광량을 조절할 수 있나요? 
답변 : 불가합니다.

19. 최대 15w 충전 가능하다 했으나 최대 와트까지 충전이 되고 있지 않습니다.
답변 : 아임반 사운드 픽셀 차량용 충전기의 경우 0-79% 까지 최대 효율로 충전이 가능하게 세팅이 되어있습니다. 위와 같이 세팅한 이유는 충전기의 높은 충전 속도로 인해 휴대폰의 배터리에 영향을 줄 수 있기 때문입니다. 

20. 아임반 차량용 충전기가 충전이 됐다 안됐다 합니다.
답변 : 이용하신 충전기 선은 동봉된 충전기를 사용해주신게 맞으신지 확인이 필요합니다, 다른 충전기 선을 이용하셨다면 동봉 된 선으로 한번 더 확인 부탁드립니다. 혹시 동봉된 선으로 하셨음에도 불구하고 문제가 발생하셨다면 충전이 됐다 안됐다 하는 영상이 필요하여 영상 촬영후 공유 주시면 빠르게 확인하여 처리 도움 드리겠습니다.

21. 아임반 차량용 충전기의 엠비언트가 나오지를 않습니다.
답변 : 버튼을 3초간 길게 눌러주시면 꺼지게 되어있습니다. 다시 한번 버튼을 3초 길게 누르시면 세팅이 되고 있으며 차량 재시동 시 마지막 엠비언트 설정 값으로 자동으로 켜지고 있습니다.

22. 아임반 차량용 충전기 엠비언트가 반만 나오고 있습니다
답변 : 이용에 불편을 드려 죄송합니다, 말씀하신 증상은 불량으로 확인되고 있으며 말씀해주신 증상 사진을 이미지 촬영하여 채팅방에 공유주시면 확인 후 교환 처리 진행해드리겠습니다.

23. 제 휴대폰이 OOO 인데 몇 w까지 충전이 가능할까요? 
답변 : 안드로이드 휴대폰의 경우 최대 10w까지 충전이 가능합니다, 다만 안드로이드 소프트웨어가 Qi2를 지원하는 업데이트가 된다면 15w까지 충전 가능합니다. 아이폰의 경우 아이폰 12이상부터 가능하며 아이폰 11 이하의 경우 맥세이프 링을 이용하여 충전하셔야 하며 최대 10w 까지 충전 가능합니다. 

24. 아임반 충전기 제 차량에 거치가 가능할까요? 
답변 : 아임반에서 제공해드리는 후크형은 최소 3cm, 최대 6cm 까지 이용이 가능한 제품을 발송해드리고 있습니다. 가로형 / 세로형 송풍구 이실 경우 대부분 이용이 가능하여 차량의 송풍구 모양 및 송풍구 실측 사이즈 체크해보시고 구입하시면 실패 없는 쇼핑 즐겨보실 수 있을거 같습니다.

25. 맥세이프 링이 부착이 안돼요
답변 : 제공해드린 맥세이프 링을 어느 부위에 부착하셨었는지 이미지 촬영하여 공유주시면 확인 후 안내해드리겠습니다. 우선 맥세이프링은 가죽, 스웨이드, 페브릭, 실리콘 소재의 경우 잘 부착이 안될 수 있습니다. 

26. 맥세이프 링을 부착했으나 충전이 불가합니다. 
답변 : 사용하시는 케이스가 너무 두꺼운 경우 또는 맥세이프 링으 케이스 안쪽에 부착한 경우 충전이 불가 할 수 있습니다. 
 27. 아임반 사운드 픽셀 G80 차량은 장착 가능할까요? 

답변 : 아쉽게도 아임반 사운드 픽셀에서 제공하는 거치대는 (고객이 언급한 차량)에는 호환이 불가하다. 추후 (고객이 언급한 차량)에 호환 가능한 제품 출시 할 수 있도록 노력하겠다.




  `;

  const prompt = `
  """
  답변을 위한 데이터:
  ${db}
  
  사용자 질문: 
  ${message}

  이 질문에 대해 한국어로 상세히 설명해주세요.
  """`;

  try {
    const response = await fetch('https://api.anthropic.com/v1/messages', {
      method: 'POST',
      headers: {
        'x-api-key': process.env.CLAUDE_API_KEY!,
        'anthropic-version': '2023-06-01',
        'content-type': 'application/json',
      },
      body: JSON.stringify({
        model: 'claude-3-opus-20240229',
        max_tokens: 500,
        messages: [{ role: 'user', content: prompt }],
      }),
    });

    const data = await response.json();
    const messageText = data?.content?.[0]?.text || '응답을 가져오지 못했습니다.';

    return NextResponse.json({ result: messageText });

  } catch (error) {
    return NextResponse.json({ result: 'API 요청 중 오류가 발생했습니다.' });
  }
}
